<div class="container" *ngIf="city$ | async as city">
  <h1 class="pt-4">{{ city.name }}</h1>
  <p class="lead">{{ city.region }}</p>
  <p><strong>Population:</strong> {{ city.population }}</p>
  <p><strong>Location type:</strong> {{ city.locationType }}</p>
  <p><strong>Coordinates:</strong> ({{ city.position.x }}, {{ city.position.y }})</p>

  <h2 class="mt-5">Buildings</h2>
  <div class="card-deck m-0">
    <div class="card mb-4" *ngFor="let building of city.buildings">
      <div class="card-body" (click)="selectedBuildingId = building.id">
        <h5 class="card-title">{{ building.name }}</h5>
        <p class="card-text">
          <strong>Owner:</strong> {{ building.owner.name }}<br />
          <strong>Type:</strong> {{ building.type }}<br />
          <strong>Address:</strong> {{ building.address }}<br />
        </p>
      </div>
    </div>
  </div>

  <ng-container *ngFor="let building of city.buildings">
    <div class="card mb-4" *ngIf="selectedBuildingId === building.id">
      <h5 class="card-title m-0 p-3">{{ building.name }}</h5>
      <div class="card-body">
        <ng-container [ngSwitch]="building.type">
          <app-warehouse *ngSwitchCase="'Warehouse'" [building]="building"></app-warehouse>
          <app-market *ngSwitchCase="'Market'" [building]="building"></app-market>
          <!-- Add other cases for other building types here -->
        </ng-container>
      </div>
    </div>
  </ng-container>

  <h2 class="mt-5">Vehicles</h2>
  <table class="table">
    <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Type</th>
      <!-- Add more columns as needed -->
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let vehicle of city.vehicles">
      <td>{{ vehicle.id }}</td>
      <td>{{ vehicle.name }}</td>
      <td>{{ vehicle.type }}</td>
      <!-- Add more cells as needed -->
    </tr>
    </tbody>
  </table>
</div>
